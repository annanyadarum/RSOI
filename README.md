# RSOI
Описание лабораторной:
1) База данных:
- пользователь
- библиотека
- посетитель
- книга
- автор
Связи:
Библиотека-Посетитель: М:М
Библиотека-Книга: М:М
Посетитель-Книга: М:М
Книга-Автор: М:М

2) Структура проекта:
- сервис ServerSv - принимает все запросы от клиента, проверяет токен (через userService) и отправляет запрос на обработку одному из сервисов (в зависимости от сущности запроса). Если запрос требует агрегации, то данный сервис выполняет аггрегацию
- сервис AuthorsService - добавление/обновление/удаление авторов
- сервис BooksService - добавление/обновление/удаление/получение книг, а также за установление/удаление связей с авторами
- сервис LibraryService - добавление/обновление/удаление библиотек, а также за установление/удаление связей с книгами и посетителями
- сервис VisitorsService - добавление/обновление/удаление посетителей, а также за установление/удаление связей с книгами
- сервис userService - добавление/обновление/удаление пользователей, а также проверяет и обновляет токен
Схема приведена ниже:
![схема взаимодействия сервисов](https://github.com/annanyadarum/RSOI/blob/master/scheme.jpg)

3) Доступ по токену:
- получение всех элементов возможен без токена
- редактирование/удаление и добавление сущностей в бд осуществляется по токену (время "жизни" токена - 2 минуты - такое маленькое время сделано для удобства тестирования) 

